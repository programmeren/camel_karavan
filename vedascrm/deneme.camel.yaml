- rest:
    id: rest-c9eb
    path: /crm
    post:
      - id: post-37e5
        path: /test
        to: direct:start
- route:
    id: route-5427
    nodePrefixId: route-3ae
    from:
      id: start
      uri: direct
      parameters:
        name: start
        exchangePattern: InOut
      steps:
        - unmarshal:
            id: unmarshal-63b0
            json:
              id: json-e9b9
              library: Jackson
        - to:
            id: to-646b
            uri: kamelet:log-action
        - removeHeaders:
            id: removeHeaders-4f2a
            pattern: "*"
        - setHeader:
            id: setHeader-4a0e
            name: CamelHttpPath
            expression:
              simple:
                id: simple-8b88
                expression: ${body.[id]}
        - to:
            id: to-0c90
            uri: https
            parameters:
              httpUri: https://dummyjson.com/products/
              httpMethod: GET
        - to:
            id: to-ec17
            uri: kamelet:log-action
            parameters:
              loggerName: users
              level: INFO
        - setBody:
            id: setBody-c06f
            expression:
              jq:
                id: jq-ea6d
                expression: >-
                  .reviews | map({skor: .rating, aciklama: .comment, kisi:
                  .reviewerName}) 
        - to:
            id: to-6f68
            uri: kamelet:log-action
            parameters:
              level: INFO
