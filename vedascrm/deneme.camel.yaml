- rest:
    id: rest-c9eb
    path: /crm
    post:
      - id: post-37e5
        path: /test
        to: direct:start
- route:
    id: route-5427
    nodePrefixId: route-3ae
    from:
      id: start
      uri: direct
      parameters:
        name: start
        exchangePattern: InOut
      steps:
        - unmarshal:
            id: unmarshal-63b0
            json:
              id: json-e9b9
              library: Jackson
        - to:
            id: to-646b
            uri: kamelet:log-action
        - doTry:
            id: doTry-28f6
            doCatch:
              - id: doCatch-8b5c
                steps:
                  - setBody:
                      id: setBody-8e8d
                      expression:
                        constant:
                          id: constant-2a4c
                          expression: "{\"kayit bulunamadi\"}"
                  - to:
                      id: to-4d28
                      uri: kamelet:log-action
            steps:
              - removeHeaders:
                  id: removeHeaders-4f2a
                  pattern: "*"
              - setHeader:
                  id: setHeader-4a0e
                  name: CamelHttpPath
                  expression:
                    simple:
                      id: simple-8b88
                      expression: ${body.[id]}
              - to:
                  id: to-0c90
                  uri: https
                  parameters:
                    httpUri: https://dummyjson.com/products/
                    httpMethod: GET
              - to:
                  id: to-ec17
                  uri: kamelet:log-action
                  parameters:
                    loggerName: users
                    level: INFO
